<!doctype html>
<html version="1000">
<head>
	<meta charset="utf-8">
	<title>ezSmartAtm Builder Form 새문서</title>
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="expires" content="0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="[김윤섭][kkobiboy]">
	<link id="ui-style-core" rel="stylesheet" type="text/css" href="/core/app.controls.css">
	<script type="text/javascript" charset="utf-8" src="/HtaPlatform/Core/Form.JsApi"></script>
	<script type="text/javascript" charset="utf-8" src="/core/app.jquery.js"></script>
	<script type="text/javascript" charset="utf-8" src="/core/app.controls.js"></script>
	<style id="ui-style-user" type="text/css"></style>
	<script id="ui-script-user" type="text/javascript"></script>
</head>
<body oncontextmenu="return false;" class="ui-pre-load"><div class="ui-document ui-container" id="ui-document" lang="kr" ide-size="1280,1024" anchor="0b0101" dock="5" ui-id="Form" ui-class="UIForm">
<div class="ui-control ui-panel ui-container ui-dock ui-dock-fill" id="ui-171be2e0c07" style="left: 0px; top: 0px; width: auto; height: auto; right: 0px; bottom: 0px; z-index: 0; background-color: transparent;" anchor="0b0101" dock="5" ui-id="PN_panel_2561" ui-class="UIPanel" dock-w="1280" dock-h="1024" dock-r="left:0px;top:0px;width:1280px;height:1024px;right:auto;bottom:auto"><div class="ui-control ui-panel ui-container ui-dock ui-dock-top" id="ui-171be2e0c08" style="left: 0px; top: 0px; width: auto; height: 102px; right: 0px; bottom: auto; z-index: 0; background-color: rgb(23, 107, 200);" anchor="0b0101" dock="1" ui-id="PN_title" ui-class="UIPanel" dock-w="200" dock-h="102" dock-r="left:98px;top:1px;width:200px;height:76px;right:auto;bottom:auto"><span class="ui-control ui-label" id="ui-171be2e0c09" style='left: 80px; top: 31px; width: 1120px; height: 40px; right: auto; bottom: auto; color: white; font-family: "IBK iDream M"; font-size: 38px; z-index: 0;' anchor="0b0101" dock="0" ui-id="LB_Title" ui-class="UILabel"><span class="ui-content">출금계좌선택</span></span></div><div class="ui-control ui-panel ui-container ui-dock ui-dock-top" id="ui-171be2e0c0a" style="left: 0px; top: 102px; width: auto; height: 92px; right: 0px; bottom: auto; z-index: 1; background-color: rgb(239, 240, 242);" anchor="0b0101" dock="1" ui-id="PN_Subtitle" ui-class="UIPanel" dock-w="1280" dock-h="92" dock-r="left:0px;top:102px;width:1280px;height:92px;right:auto;bottom:auto"><span class="ui-control ui-label" id="ui-171be2e0c0b" style='left: 82px; top: 30px; width: 1120px; height: 32px; right: auto; bottom: auto; font-family: "IBK iDream L"; font-size: 28px; z-index: 0;' anchor="0b0101" dock="0" ui-id="LB_Subtitle" ui-class="UILabel"><span class="ui-content">출금하실 계좌를 선택해 주십시오.</span></span></div><div class="ui-control ui-panel ui-container ui-dock ui-dock-bottom" id="ui-172729dbaaf" style="left: 0px; top: auto; width: auto; height: 140px; right: 0px; bottom: 0px; z-index: 2;" anchor="0b0101" dock="2" ui-id="PN_btn" ui-class="UIPanel" dock-w="1280" dock-h="140" dock-r="left:0px;top:884px;width:1280px;height:140px;right:auto;bottom:auto"><span class="ui-control ui-button theme-orange" id="ui-172729e45a9" style='left: 36px; top: 31px; width: 258px; height: 80px; right: auto; bottom: auto; font-family: "IBK iDream M"; font-size: 32px; z-index: 0;' anchor="0b0101" dock="0" ui-id="BT_left" ui-class="UIButton" theme="orange" xonclick="BT_left_OnClick"><span class="ui-content">취소</span></span><span disabled="disabled" class="ui-control ui-button theme-blue ui-disabled" id="ui-172729ea59d" style='left: auto; top: 31px; width: 258px; height: 80px; right: 36px; bottom: auto; font-family: "IBK iDream M"; font-size: 32px; z-index: 1;' anchor="0b1001" dock="0" ui-id="BT_right" ui-class="UIButton" theme="blue" xonclick="BT_right_OnClick"><span class="ui-content">확인</span></span></div><div class="ui-control ui-panel ui-container ui-dock ui-dock-fill" id="ui-172729f3b0f" style="left: 0px; top: 194px; width: auto; height: auto; right: 0px; bottom: 140px; z-index: 3;" anchor="0b0101" dock="5" ui-id="PN_panel38" ui-class="UIPanel" dock-w="1280" dock-h="100" dock-r="left:0px;top:194px;width:1280px;height:100px;right:auto;bottom:auto"><div class="ui-control ui-panel ui-container" id="ui-172da037597" style="left: 78px; top: 58px; width: 1124px; height: 587px; right: auto; bottom: auto; z-index: 0;" anchor="0b0101" dock="0" ui-id="PN_accountList" ui-class="UIPanel"></div><div class="ui-control ui-panel ui-container ui-hide" id="ui-17424653d9f" style="left: 240px; top: 180px; width: 800px; height: 300px; right: auto; bottom: auto; z-index: 1;" anchor="0b0101" dock="0" ui-id="PN_nullData" ui-class="UIPanel"><div class="ui-control ui-panel ui-container" id="ui-17424653da0" style="left: 364px; top: 77px; width: 73px; height: 75px; right: auto; bottom: auto; z-index: 0;" anchor="0b0101" dock="0" ui-id="PN_panel3" ui-class="UIPanel"><span class="ui-back-image" style='background-image: url("/KRG/media/no_data_ic.png");'></span></div><span class="ui-control ui-label" id="ui-17424653da1" style='left: 0px; top: 171px; width: 800px; height: 48px; right: auto; bottom: auto; font-family: "IBK iDream M"; font-size: 36px; z-index: 1;' anchor="0b0101" dock="0" ui-id="LB_label7" ui-class="UILabel"><span class="ui-content" style="justify-content: center;">해당 계좌가 없습니다.</span></span></div></div><span class="ui-control ui-scrollbar" id="ui-172bb1c1485" style="left: auto; top: 254px; width: 32px; height: 587px; right: 36px; bottom: auto; z-index: 4;" anchor="0b1001" dock="0" ui-id="SB_scrollbar4" ui-class="UIScrollBar" scroll-control-id="PN_accountList"><span class="track"></span><span class="trackbutton"></span></span></div></div><xcomponent></xcomponent><xjscript><script id='xjscript' type='text/plain'>includeJSS("LibCommon","/KRG/0301/common.js");// LibUtil import
/*
	# 2561 - 적금 추가입금 - 출금계좌선택
*/
let p = parent;

// 업무에 맞는 Receive Data 처리
function ReceiveTran(obj){
	p._MRACT_DPSR_NM = obj.KRN_CSM.trim();
	
	let rows = obj.list;
	let tag = [];
	
	if(rows.length == 0){
		PN_nullData.Visible = true;
	}
	
	
	for(let i=0; i<rows.length; i++){
		let acn_title = rows[i].SUBJ_NM;
		
		if(rows[i].ASMB_BNKB_NAM_CON != ""){
			acn_title = acn_title + "(" + rows[i].ASMB_BNKB_NAM_CON + ")";
		}
		
		tag.push(""
			+'<div class="list_info" data1="' + rows[i].CUS_ACN.trim() + '" data2="' + acn_title + '" onclick="selectAccount(this)">'
    	    +'	<div class="text_area">'
			+'		<div>'
    	    +'  		<div class="main_text usetype" style="margin-bottom:12px;">' + com.acct.fnGetAccountPattern(rows[i].CUS_ACN.trim()) + '</div>'
    	    +'  		<div class="sub_text">' + acn_title + '</div>'
			+'		</div>'
    	    +'	</div>'
    	    +'  <div class="text_area_balance">'
    	    +'		<span style="color:#176bc8;">' + parseInt(rows[i].ACNT_BAL).toLocaleString() + ' </span><span class="won">원</span>'
    	    +'		<div class="img">'
    	    +'			<img src="/KRG/media/list_ic_next.png" />'
    	    +'		</div>'
    	    +'	</div>'
    	    +'</div>'
		);
	}
	
	// 리스트를 화면에 표시
	let $PN_accountList = $("div[ui-id='PN_accountList']");
	$PN_accountList.html(""
		+'<div class="list-panel">'
		+ tag.join("")
		+'</div>'
	);
	
	$PN_accountList = $("div.list-panel");
	
	// 기타 리스트 css	
	$PN_accountList.find(">div.list_info").css({'justify-content':'space-between', 'padding':'0 40px'});
	$PN_accountList.find(">div.list_info").each(function(i){
		let $this = $(this);
		
		$this.find(">div.text_area").css({'display':'flex','flex-direction':'row','padding-left':'20px', 'width':'auto'});
		$this.find(">div.text_area .main_text").css({'font-family':'IBK iDream L', 'font-size':'21px'});
		$this.find(">div.text_area .sub_text").css({'font-family':'IBK iDream M', 'font-size':'24px'});
		$this.find(">div.text_area_balance").css({'display':'flex','flex-direction':'row','font-size':'24px', 'font-family':'IBK iDream M'});
		$this.find(">div.text_area_balance span").css({'order':'1', 'margin-right':'5px'});
		$this.find(">div.text_area_balance span.won").css({'order':'2'});
		$this.find("div.img").css({'order':'3','width':'45px','display':'flex', 'align-items':'center', 'justify-content':'flex-start', 'margin-right':'20px'});
	});	
	
	
	// 스크롤 show/hide
	SB_scrollbar4.Invalidate();
}

// 계좌 선택이벤트
function selectAccount(target){
	console.log('계좌선택 >>> ');
	
	// 계좌선택 이벤트
	PN_accountList.$.find("div.list_info").removeClass("select");		
	comSelectAnimate.call(target,$("div.list_info"));						//클릭 animate 
	$(target).addClass("select");
	
	
	// 출금계좌 전역객체에 저장
	p._DROT_ACN = target.getAttribute('data1');
	console.log("ACN : " + p._DROT_ACN);
	
	// 다음버튼 enabled
	BT_right.Enabled = true;
}

// 거래종료
function BT_left_OnClick(e){
	ATMCOMM.BusinessEnd(ATMCOMM.RET_CAN);
}

// 비밀번호 입력주의 화면으로 이동
function BT_right_OnClick(e){
	p.ChangeTab("9047_info");
}</script></xjscript></body>
</html>
