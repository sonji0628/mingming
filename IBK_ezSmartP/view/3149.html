<!doctype html>
<html version="1000">
<head>
	<meta charset="utf-8">
	<title>ezSmartAtm Builder Form 새문서</title>
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="expires" content="0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="[김윤섭][kkobiboy]">
	<link id="ui-style-core" rel="stylesheet" type="text/css" href="/core/app.controls.css">
	<script type="text/javascript" charset="utf-8" src="/HtaPlatform/Core/Form.JsApi"></script>
	<script type="text/javascript" charset="utf-8" src="/core/app.jquery.js"></script>
	<script type="text/javascript" charset="utf-8" src="/core/app.controls.js"></script>
	<style id="ui-style-user" type="text/css"></style>
	<script id="ui-script-user" type="text/javascript"></script>
</head>
<body oncontextmenu="return false;" class="ui-pre-load"><div class="ui-document ui-container" id="ui-document" lang="kr" xonload="Form_OnLoad" ui-class="UIForm" ui-id="Form" dock="5" anchor="0b0101" ide-size="1280,1024"><div class="ui-control ui-panel ui-container" id="ui-171a52210e0" style="left: 0px; top: 0px; width: 1280px; height: 1024px; right: auto; bottom: auto; z-index: 0; background-color: transparent;" ui-class="UIPanel" ui-id="PN_form" dock="0" anchor="0b0101"><div class="ui-control ui-panel ui-container ui-dock ui-dock-top" id="ui-171a52210e2" style="left: 0px; top: 0px; width: auto; height: 101.89px; right: 0px; bottom: auto; z-index: 2; background-color: rgb(23, 107, 200);" ui-class="UIPanel" ui-id="PN_Title" dock="1" anchor="0b0101" dock-r="left:98px;top:1px;width:200px;height:76px;right:auto;bottom:auto" dock-h="102" dock-w="200"><span class="ui-control ui-label" id="ui-171a52210e3" style='left: 80px; top: 31px; width: 1134px; height: 40px; right: auto; bottom: auto; color: white; font-family: "IBK iDream M"; font-size: 38px; z-index: 0;' ui-class="UILabel" ui-id="LB_title" dock="0" anchor="0b0101"><span class="ui-content">카드 분실신고 및 해제</span></span></div><div class="ui-control ui-panel ui-container ui-dock ui-dock-top" id="ui-171a52210e4" style="left: 0px; top: 101.89px; width: auto; height: 91.91px; right: 0px; bottom: auto; z-index: 3; background-color: whitesmoke;" ui-class="UIPanel" ui-id="PN_Subtitle" dock="1" anchor="0b0101" dock-r="left:0px;top:102px;width:1280px;height:92px;right:auto;bottom:auto" dock-h="92" dock-w="1280"><span class="ui-control ui-label" id="ui-171a52210e5" style='left: 82px; top: 25px; width: 1139px; height: 43px; right: auto; bottom: auto; font-family: "IBK iDream L"; font-size: 28px; z-index: 0;' ui-class="UILabel" ui-id="LB_Subtitle" dock="0" anchor="0b0101"><span class="ui-content" style="align-items: center;">분실 해제하실 카드 정보를 입력해주십시오. 입력내용이 맞으면 확인을 눌러주십시오.</span></span></div><div class="ui-control ui-panel ui-container ui-dock ui-dock-bottom" id="ui-171a52210e8" style="left: 0px; top: auto; width: auto; height: 140px; right: 0px; bottom: 0px; z-index: 1;" ui-class="UIPanel" ui-id="PN_btn" dock="2" anchor="0b0101" dock-r="left:0px;top:884px;width:1280px;height:140px;right:auto;bottom:auto" dock-h="140" dock-w="1280"><span disabled="disabled" class="ui-control ui-button theme-blue ui-disabled" id="ui-171a52210e9" style='left: 986px; top: 31px; width: 258px; height: 80px; right: auto; bottom: auto; font-family: "IBK iDream M"; font-size: 32px; z-index: 0;' ui-class="UIButton" ui-id="BT_right" dock="0" anchor="0b0101" theme="blue" xonclick="BT_right_OnClick"><span class="ui-content">확인</span></span><span class="ui-control ui-button theme-orange" id="ui-171a52210ea" style='left: 36px; top: 31px; width: 258px; height: 80px; right: auto; bottom: auto; font-family: "IBK iDream M"; font-size: 32px; z-index: 1;' ui-class="UIButton" ui-id="BT_left" dock="0" anchor="0b0101" theme="orange" xonclick="BT_left_OnClick"><span class="ui-content">취소</span></span></div><div class="ui-control ui-panel ui-container ui-dock ui-dock-fill" id="ui-174045d12ec" style="left: 0px; top: 0px; width: auto; height: auto; right: 0px; bottom: 0px; z-index: 0;" ui-class="UIPanel" ui-id="PN_contents" dock="5" anchor="0b0101" dock-r="left:1244px;top:549px;width:200px;height:100px;right:auto;bottom:auto" dock-h="100" dock-w="200"><span class="ui-control ui-textbox" id="ui-171a52210eb" style='left: 134px; top: 528px; width: 525px; height: 60px; right: auto; bottom: auto; font-family: "Noto Sans CJK KR Medium", "NotoSansCJKKRMedium", sans-serif; font-size: 22px; z-index: 0; background-color: white;' ui-class="UITextBox" ui-id="TB_textbox5" dock="0" anchor="0b0101" xonclick="TB_textbox5_OnClick"><span><input class="ui-input" type="password" maxlength="4" value=""></span></span><div class="ui-control ui-numberpad shuffle" id="ui-171a5226656" style="left: 742px; top: 338px; width: 434px; height: 487px; right: auto; bottom: auto; z-index: 1;" ui-class="UINumberPad" ui-id="NP_numberpad1" dock="0" anchor="0b0101" xonkeyclick="NP_numberpad1_OnKeyClick"><table class="fixed" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td key="1"><div>1</div></td><td key="2"><div>2</div></td><td key="3"><div>3</div></td></tr><tr><td key="4"><div>4</div></td><td key="5"><div>5</div></td><td key="6"><div>6</div></td></tr><tr><td key="7"><div>7</div></td><td key="8"><div>8</div></td><td key="9"><div>9</div></td></tr><tr><td class="fix backspace" key=""><div></div></td><td key="0"><div>0</div></td><td class="fix clear" key="정정"><div>정정</div></td></tr></tbody></table><table class="shuffle" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td key="0"><div>0</div></td><td key="5"><div>5</div></td><td class="key-empty" key=""><div></div></td><td key="1"><div>1</div></td></tr><tr><td key="4"><div>4</div></td><td class="key-empty" key=""><div></div></td><td key="3"><div>3</div></td><td key="9"><div>9</div></td></tr><tr><td key="7"><div>7</div></td><td key="2"><div>2</div></td><td key="6"><div>6</div></td><td key="8"><div>8</div></td></tr><tr><td class="fix shuffle" colspan="2"><div>재배열</div></td><td class="fix backspace" key="backspace"><div></div></td><td class="fix clear" key="clear"><div>정정</div></td></tr></tbody></table></div><span disabled="disabled" class="ui-control ui-textbox ui-disabled" id="ui-172d9ddcd55" style='border-radius: 2px; left: 535px; top: 383px; width: 120px; height: 60px; right: auto; bottom: auto; font-family: "Noto Sans CJK KR Medium", "NotoSansCJKKRMedium", sans-serif; font-size: 22px; z-index: 2; background-color: white;' ui-class="UITextBox" ui-id="TB_textbox4" dock="0" anchor="0b0101"><span><input class="ui-input" style="text-align: left;" type="text" maxlength="4" value=""></span></span><span class="ui-control ui-label" id="ui-172d9d42775" style="left: 134px; top: 338px; width: 134px; height: 32px; right: auto; bottom: auto; color: rgb(2, 111, 206); font-size: 28px; z-index: 3;" ui-class="UILabel" ui-id="LB_label2" dock="0" anchor="0b0101"><span class="ui-content">카드번호</span></span><span disabled="disabled" class="ui-control ui-textbox ui-disabled" id="ui-172d9d4272d" style='border-radius: 2px; left: 134px; top: 383px; width: 120px; height: 60px; right: auto; bottom: auto; font-family: "Noto Sans CJK KR Medium", "NotoSansCJKKRMedium", sans-serif; font-size: 22px; z-index: 7; background-color: white;' ui-class="UITextBox" ui-id="TB_textbox1" dock="0" anchor="0b0101"><span><input class="ui-input" style="text-align: left;" type="text" maxlength="4" value=""></span></span><span disabled="disabled" class="ui-control ui-textbox ui-disabled" id="ui-172d9ddcb0a" style='border-radius: 2px; left: 269px; top: 383px; width: 120px; height: 60px; right: auto; bottom: auto; font-family: "Noto Sans CJK KR Medium", "NotoSansCJKKRMedium", sans-serif; font-size: 22px; z-index: 9; background-color: white;' ui-class="UITextBox" ui-id="TB_textbox2" dock="0" anchor="0b0101"><span><input class="ui-input" style="text-align: left;" type="password" maxlength="4" value=""></span></span><span disabled="disabled" class="ui-control ui-textbox ui-disabled" id="ui-172d9ddcf10" style='border-radius: 2px; left: 404px; top: 383px; width: 120px; height: 60px; right: auto; bottom: auto; font-family: "Noto Sans CJK KR Medium", "NotoSansCJKKRMedium", sans-serif; font-size: 22px; z-index: 10; background-color: white;' ui-class="UITextBox" ui-id="TB_textbox3" dock="0" anchor="0b0101"><span><input class="ui-input" style="text-align: left;" type="password" maxlength="4" value=""></span></span><span class="ui-control ui-label" id="ui-171a5245d17" style="left: 134px; top: 488px; width: 134px; height: 32px; right: auto; bottom: auto; color: rgb(2, 111, 206); font-size: 28px; z-index: 5;" ui-class="UILabel" ui-id="LB_label10" dock="0" anchor="0b0101"><span class="ui-content">비밀번호</span></span><span class="ui-control ui-label" id="ui-172d9d9301a" style='left: 200px; top: 635px; width: 211px; height: 32px; right: auto; bottom: auto; color: black; font-family: "Noto Sans CJK KR Medium", "NotoSansCJKKRMedium", sans-serif; font-size: 22px; z-index: 8;' ui-class="UILabel" ui-id="LB_label4" dock="0" anchor="0b0101"><span class="ui-content">(CVC번호 뒤 3자리)</span></span><span class="ui-control ui-label" id="ui-172d9d42a65" style="left: 134px; top: 635px; width: 59px; height: 32px; right: auto; bottom: auto; color: rgb(2, 111, 206); font-size: 28px; z-index: 6;" ui-class="UILabel" ui-id="LB_label3" dock="0" anchor="0b0101"><span class="ui-content">CVC</span></span><span class="ui-control ui-textbox" id="ui-172d9d42a3c" style='left: 134px; top: 677px; width: 525px; height: 60px; right: auto; bottom: auto; font-family: "Noto Sans CJK KR Medium", "NotoSansCJKKRMedium", sans-serif; font-size: 22px; z-index: 4;' ui-class="UITextBox" ui-id="TB_textbox6" dock="0" anchor="0b0101" xonclick="TB_textbox6_OnClick"><span><input class="ui-input" type="text" maxlength="3" value=""></span></span></div></div>
</div><xcomponent></xcomponent><xjscript><script id='xjscript' type='text/plain'>includeJSS("LibCommon","/KRG/0301/common.js");

var inputbox;
var p = parent;

function Form_OnLoad(e)
{
	console.log("Init3149");
	LB_Subtitle.$.find('> span.ui-content').html('분실 해제하실 카드 정보를 입력해주십시오. 입력내용이 맞으면 <span>확인</span>을 눌러주십시오.');
	LB_Subtitle.$.find('> span.ui-content > span').css({'border-radius':'5px','margin':'0 10px','padding':'4px 15px','font-size':'26px','font-weight':'bold','color':'#fff','background-color':'#176bc8',});
	LB_label4.$.css({'color':'rgba(0,0,0,0.7)', 'vertical-align':'baseline'});

	TB_textbox1.$.find('input').css({'text-align':'center','padding':'0px'});
	TB_textbox2.$.find('input').css({'text-align':'center','padding':'0px'});
	TB_textbox3.$.find('input').css({'text-align':'center','padding':'0px'});
	TB_textbox4.$.find('input').css({'text-align':'center','padding':'0px'});
	
	TB_textbox5.$.find('input').attr('placeholder','입 력 해 주 세 요');
	NP_numberpad1.Shuffle = true;
	NP_numberpad1.$.find("td.shuffle").css({'visibility':'hidden'});
	TB_textbox5.$.find("input.ui-input").attr('disabled', true);
	TB_textbox6.$.find("input.ui-input").attr('disabled', true);
	inputbox = TB_textbox5;
	FoucsTextBox();
	com.numberpad.notMaxLength(NP_numberpad1);
	com.numberpad.btnDisabled(NP_numberpad1);
}

function Input_Password(data)//카드번호 채워주는 함수
{
	console.log("Init Input_Password\n");
	
	let r = data.cardInfo;
	
	TB_textbox1.Text = r.CDN.substr(0,4);
	TB_textbox2.Text = r.CDN.substr(4,4);
	TB_textbox3.Text = r.CDN.substr(8,4);
	TB_textbox4.Text = r.CDN.substr(12,4);
}
function NP_numberpad1_OnKeyClick(e)//숫자키 패드 눌렀을때 동작하는 함수
{
	FoucsTextBox();
	
	if(inputbox==TB_textbox5)
	{
		if(e.key=='backspace')
		{
			e.key='';
			inputbox.Text = inputbox.Text.substring(0, inputbox.Text.length-1);
			if(inputbox.Text.length==0)
			{
				com.numberpad.notMaxLength(NP_numberpad1);
				com.numberpad.btnDisabled(NP_numberpad1);
			}
			else if(inputbox.Text.length<inputbox.MaxLength)
			{
				com.numberpad.notMaxLength(NP_numberpad1);
			}
			AllTextBox_Max_Check();
			return;
		}
		else if(e.key == 'clear')
		{
			if(NP_numberpad1.$.find('[key=clear]').hasClass('fix clear'))
			{
				e.key='';
				let a = inputbox.Text.replace(inputbox.Text,"");
				inputbox.Text = a;
				com.numberpad.notMaxLength(NP_numberpad1);
				com.numberpad.btnDisabled(NP_numberpad1);
				AllTextBox_Max_Check();
				return;
			}
			else
			{
				return;
			}
		}
		
		if(inputbox.Text.length<inputbox.MaxLength)
		{
			inputbox.Text+=e.key;
			com.numberpad.notMaxLength(NP_numberpad1);
			if(inputbox.Text.length==inputbox.MaxLength)
			{
				com.numberpad.maxLength(NP_numberpad1);
				//TB_textbox6.$.find("input.ui-input").click();
				inputbox = TB_textbox6;
				if(inputbox.Text.length==inputbox.MaxLength)
				{
					com.numberpad.maxLength(NP_numberpad1);
				}
				else if(inputbox.Text.length<1)
				{
					com.numberpad.notMaxLength(NP_numberpad1);
					com.numberpad.btnDisabled(NP_numberpad1);
				}
				else
				{	
					com.numberpad.notMaxLength(NP_numberpad1);
				}
				FoucsTextBox();
				AllTextBox_Max_Check();
				return;
			}
			return;
		}
		else
		{
			AllTextBox_Max_Check();
			return;
		}
	}
	
	if(inputbox==TB_textbox6)
	{
		if(e.key=='backspace')
		{
			e.key='';
			inputbox.Text = inputbox.Text.substring(0, inputbox.Text.length-1);
			if(inputbox.Text.length==0)
			{
				com.numberpad.notMaxLength(NP_numberpad1);
				com.numberpad.btnDisabled(NP_numberpad1);
			}
			else if(inputbox.Text.length<inputbox.MaxLength)
			{
				com.numberpad.notMaxLength(NP_numberpad1);
			}
			AllTextBox_Max_Check();
			return;
		}
		else if(e.key == 'clear')
		{
			if(NP_numberpad1.$.find('[key=clear]').hasClass('fix clear'))
			{
				e.key='';
				let a = inputbox.Text.replace(inputbox.Text,"");
				inputbox.Text = a;
				com.numberpad.notMaxLength(NP_numberpad1);
				com.numberpad.btnDisabled(NP_numberpad1);
				AllTextBox_Max_Check();
				return;
			}
			else
			{
				return;
			}
		}
		
		if(inputbox.Text.length<inputbox.MaxLength)
		{
			inputbox.Text+=e.key;
			com.numberpad.notMaxLength(NP_numberpad1);
			if(inputbox.Text.length==inputbox.MaxLength)
			{
				com.numberpad.maxLength(NP_numberpad1);
				AllTextBox_Max_Check();
				return;
			}
			return;
		}
		else
		{
			AllTextBox_Max_Check();
			return;
		}
	}
}

function TB_textbox5_OnClick(e)//비밀번호 칸 터치했을때 동작하는 함수
{
	AllTextBox_Max_Check();
	inputbox = TB_textbox5;
	FoucsTextBox();
	if(inputbox.Text.length==inputbox.MaxLength)
	{
		com.numberpad.maxLength(NP_numberpad1);
	}
	else if(inputbox.Text.length<1)
	{
		com.numberpad.notMaxLength(NP_numberpad1);
		com.numberpad.btnDisabled(NP_numberpad1);
	}
	else
	{	
		com.numberpad.notMaxLength(NP_numberpad1);
	}
}

function TB_textbox6_OnClick(e)//CVC 칸 터치했을때 동작하는 함수
{
	AllTextBox_Max_Check();
	inputbox = TB_textbox6;
	FoucsTextBox();
	if(inputbox.Text.length==inputbox.MaxLength)
	{
		com.numberpad.maxLength(NP_numberpad1);
	}
	else if(inputbox.Text.length<1)
	{
		com.numberpad.notMaxLength(NP_numberpad1);
		com.numberpad.btnDisabled(NP_numberpad1);
	}
	else
	{
		com.numberpad.notMaxLength(NP_numberpad1);
	}
}

function FoucsTextBox()//텍스트 칸 터치했을때 색 바꿔주는 함수
{
	switch(inputbox)
	{
		case TB_textbox5:
			TB_textbox5.$.css({'border':'3px solid rgb(4, 111, 217)'});
			TB_textbox6.$.css({'border':'2px solid rgb(158, 158, 158)'});
			break;
		case TB_textbox6:
			TB_textbox5.$.css({'border':'2px solid rgb(158, 158, 158)'});
			TB_textbox6.$.css({'border':'3px solid rgb(4, 111, 217)'});
			break;
		default:
			TB_textbox5.$.css({'border':'2px solid rgb(158, 158, 158)'});
			TB_textbox6.$.css({'border':'2px solid rgb(158, 158, 158)'});
			break;
	}
}

function AllTextBox_Max_Check()//모든 칸에 내용이 입력되었는지 체크하는 함수, 모든 칸이 입력되면 확인 버튼 활성화
{
	if(TB_textbox5.Text.length==TB_textbox5.MaxLength && TB_textbox6.Text.length==TB_textbox6.MaxLength)
		{
			BT_right.Enabled=true;
			FoucsTextBox()
		}
	else
	{
		BT_right.Enabled=false;
	}
}

function BT_right_OnClick(e)//확인 버튼 눌렀을때 동작하는 함수
{
	p.act = "Unrelease_of_card_loss_report";
	p.data.cardInfo.InputCDN = TB_textbox1.Text + TB_textbox2.Text + TB_textbox3.Text + TB_textbox4.Text;  
	p.data.cardInfo.InputPw = TB_textbox5.Text;
	p.data.cardInfo.InputCVC = TB_textbox6.Text;
	
	SCREEN.WriteJnl("[분실해제 정보 입력] 정상");
 	setTimeout(p.ChangeTab("9041"));
}

function BT_left_OnClick(e)//취소 버튼 눌렀을때 동작하는 함수
{
	SCREEN.WriteJnl("[분실해제 정보 입력] 취소");
	ATMCOMM.BusinessEnd(ATMCOMM.RET_CAN);
}</script></xjscript></body>
</html>
